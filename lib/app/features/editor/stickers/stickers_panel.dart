import 'package:cardmaker/app/features/editor/controller.dart';
import 'package:cardmaker/core/values/app_colors.dart';
import 'package:flutter/material.dart';
import 'package:get/get.dart';

class StickerPanel extends StatelessWidget {
  final CanvasController controller;

  const StickerPanel({super.key, required this.controller});

  @override
  Widget build(BuildContext context) {
    final categories = {
      'Popular': [
        'ğŸ˜',
        'ğŸ¥³',
        'ğŸ’',
        'ğŸŒˆ',
        'ğŸ’',
        'ğŸ‘‘',
        'ğŸ˜',
        'ğŸ€',
        'ğŸ¥°',
        'ğŸ™Œ',
        'ğŸ’¯',
        'ğŸš€',
        'ğŸ¯',
        'ğŸ†',
        'ğŸ–ï¸',
        'ğŸ¥‡',
        'ğŸ—ï¸',
        'ğŸ˜»',
        'ğŸ¤©',
        'ğŸ”¥',
      ],
      'Emojis': [
        'ğŸ˜€',
        'ğŸ˜‚',
        'ğŸ˜˜',
        'ğŸ™‚',
        'ğŸ˜Š',
        'ğŸ˜‡',
        'ğŸ¤—',
        'ğŸ¤”',
        'ğŸ˜‹',
        'ğŸ˜œ',
        'ğŸ¤ª',
        'ğŸ˜´',
        'ğŸ¥º',
        'ğŸ˜¢',
        'ğŸ˜‰',
        'ğŸ¤“',
        'ğŸ˜£',
        'ğŸ˜',
        'ğŸ˜—',
        'ğŸ˜™',
      ],
      'Hearts': [
        'â¤ï¸',
        'ğŸ§¡',
        'ğŸ’›',
        'ğŸ’š',
        'ğŸ’™',
        'ğŸ’œ',
        'ğŸ–¤',
        'ğŸ¤',
        'ğŸ¤',
        'ğŸ’•',
        'ğŸ’',
        'ğŸ’“',
        'ğŸ’—',
        'ğŸ’–',
        'ğŸ’˜',
        'ğŸ’Ÿ',
        'â£ï¸',
        'ğŸ’Œ',
        'ğŸ’‘',
        'ğŸ’‹',
      ],
      'Party': [
        'ğŸ‰',
        'ğŸŠ',
        'ğŸˆ',
        'ğŸ',
        'ğŸ‚',
        'ğŸ°',
        'ğŸª…',
        'ğŸ†',
        'ğŸ‡',
        'ğŸ¾',
        'ğŸ¥‚',
        'ğŸ¤',
        'ğŸ•º',
        'ğŸ’ƒ',
        'ğŸ¸',
        'ğŸ¥',
        'ğŸº',
        'ğŸ»',
        'ğŸµ',
        'ğŸ¶',
      ],
      'Birthdays': [
        'ğŸ§',
        'ğŸ•¯ï¸',
        'ğŸ ',
        'ğŸ¡',
        'ğŸˆ',
        'ğŸ',
        'ğŸ‚',
        'ğŸ¥³',
        'ğŸŠ',
        'ğŸ‰',
        'ğŸ€',
        'ğŸ¥‚',
        'ğŸ¶',
        'ğŸ§',
        'ğŸ•¯ï¸',
        'ğŸ ',
        'ğŸ¡',
        'ğŸˆ',
        'ğŸ',
        'ğŸ‚',
      ],
      'Weddings': [
        'ğŸ’',
        'ğŸ‘°',
        'ğŸ¤µ',
        'ğŸ’’',
        'ğŸ’',
        'ğŸ‘°â€â™€ï¸',
        'ğŸ¤µâ€â™‚ï¸',
        'ğŸ©',
        'ğŸŒ¸',
        'ğŸ’',
        'ğŸ‘©â€â¤ï¸â€ğŸ‘¨',
        'ğŸ‘©â€â¤ï¸â€ğŸ‘©',
        'ğŸ‘¨â€â¤ï¸â€ğŸ‘¨',
        'ğŸ’',
        'ğŸ’',
        'ğŸ’’',
        'ğŸ‘°',
        'ğŸ¤µ',
        'ğŸ©',
        'ğŸŒ¸',
      ],
      'Holidays': [
        'ğŸ„',
        'ğŸ…',
        'ğŸ¦Œ',
        'â„ï¸',
        'â˜ƒï¸',
        'ğŸƒ',
        'ğŸ‘»',
        'ğŸ¦ƒ',
        'ğŸ°',
        'ğŸ¥š',
        'ğŸ‡ºğŸ‡³',
        'ğŸ•',
        'ğŸ',
        'ğŸ‘',
        'ğŸª”',
        'ğŸ†',
        'ğŸ‡',
        'ğŸ',
        'ğŸ§§',
        'ğŸ„',
      ],
      'Leaves': [
        'ğŸƒ',
        'ğŸŒ¿',
        'ğŸ‚',
        'ğŸ',
        'ğŸŒ±',
        'ğŸŒ¾',
        'ğŸƒ',
        'ğŸŒ¿',
        'ğŸ‚',
        'ğŸ',
        'ğŸŒ±',
        'ğŸŒ¾',
        'ğŸƒ',
        'ğŸŒ¿',
        'ğŸ‚',
        'ğŸ',
        'ğŸŒ±',
        'ğŸŒ¾',
        'ğŸƒ',
        'ğŸŒ¿',
      ],
      'Alphabet': [
        'ğŸ‡¦',
        'ğŸ‡§',
        'ğŸ‡¨',
        'ğŸ‡©',
        'ğŸ‡ª',
        'ğŸ‡«',
        'ğŸ‡¬',
        'ğŸ‡­',
        'ğŸ‡®',
        'ğŸ‡¯',
        'ğŸ‡°',
        'ğŸ‡±',
        'ğŸ‡²',
        'ğŸ‡³',
        'ğŸ‡´',
        'ğŸ‡µ',
        'ğŸ‡¶',
        'ğŸ‡·',
        'ğŸ‡¸',
        'ğŸ‡¹',
      ],
      'Nature': [
        'ğŸŒº',
        'ğŸŒ»',
        'ğŸŒ·',
        'ğŸŒ¹',
        'ğŸŒ³',
        'ğŸŒ²',
        'ğŸŒ´',
        'ğŸŒµ',
        'ğŸŒŠ',
        'â›…',
        'â˜€ï¸',
        'ğŸŒ™',
        'ğŸŒ',
        'ğŸŒ¬ï¸',
        'ğŸŒªï¸',
        'ğŸŒ¼',
        'ğŸŒ¸',
        'ğŸŒ»',
        'ğŸŒ·',
        'ğŸŒ¹',
      ],
      'Animals': [
        'ğŸ¶',
        'ğŸ±',
        'ğŸ»',
        'ğŸ¼',
        'ğŸ¨',
        'ğŸ¦',
        'ğŸ¯',
        'ğŸ¦’',
        'ğŸ¦Š',
        'ğŸ¦„',
        'ğŸ˜',
        'ğŸ¦‹',
        'ğŸ',
        'ğŸ¦‰',
        'ğŸ¦',
        'ğŸ³',
        'ğŸ¬',
        'ğŸ¦š',
        'ğŸ¢',
        'ğŸ™',
      ],
      'Food': [
        'ğŸ',
        'ğŸ‡',
        'ğŸ“',
        'ğŸ’',
        'ğŸ‰',
        'ğŸ',
        'ğŸ”',
        'ğŸ•',
        'ğŸŸ',
        'ğŸ£',
        'ğŸ¦',
        'ğŸ©',
        'â˜•',
        'ğŸµ',
        'ğŸ¥',
        'ğŸ¥',
        'ğŸœ',
        'ğŸ¥—',
        'ğŸª',
        'ğŸ«',
      ],
      'Travel': [
        'âœˆï¸',
        'ğŸ—ºï¸',
        'ğŸ–ï¸',
        'ğŸï¸',
        'â›°ï¸',
        'ğŸ•ï¸',
        'ğŸ—½',
        'ğŸ—¼',
        'ğŸ°',
        'ğŸ—»',
        'ğŸš—',
        'ğŸš‚',
        'â›µ',
        'ğŸ›³ï¸',
        'ğŸ›¸',
        'ğŸ’',
        'ğŸ§³',
        'ğŸ›«',
        'ğŸ›¬',
        'ğŸ—¿',
      ],
      'Motivational': [
        'ğŸ’ª',
        'ğŸ’¡',
        'âœ¨',
        'ğŸ‘Š',
        'ğŸŒ±',
        'ğŸ’«',
        'ğŸ§ ',
        'ğŸ…',
        'ğŸŒŸ',
        'ğŸ¯',
        'ğŸ’¯',
        'âš¡',
        'ğŸŒ',
        'ğŸš€',
        'ğŸ†',
        'ğŸ–ï¸',
        'ğŸ¥‡',
        'ğŸ™Œ',
        'ğŸŒˆ',
        'ğŸ”¥',
      ],
      'Social Media': [
        'ğŸ“¸',
        'ğŸ“·',
        'ğŸ“±',
        'ğŸ’¬',
        'ğŸ—£ï¸',
        'ğŸ”—',
        'ğŸ“',
        'ğŸ–¼ï¸',
        'ğŸ¥',
        'ğŸ¬',
        'ğŸ”„',
        'ğŸ”ƒ',
        'ğŸ‘',
        'ğŸ‘€',
        'ğŸ“©',
        'ğŸ“¤',
        'ğŸŒ',
        'ğŸ“²',
        'ğŸ””',
        'ğŸ“§',
      ],
      'Symbols': [
        'â­',
        'âš¡',
        'ğŸ’¥',
        'ğŸª',
        'âš™ï¸',
        'ğŸ› ï¸',
        'ğŸ”®',
        'ğŸ”’',
        'ğŸ”‘',
        'ğŸ›¡ï¸',
        'ğŸ’£',
        'ğŸ°',
        'ğŸ§©',
        'ğŸ¨',
        'ğŸ–Œï¸',
        'ğŸ–ï¸',
        'âœ‚ï¸',
        'ğŸ“',
        'ğŸ“',
        'ğŸ§¬',
      ],
      'Events': [
        'ğŸ«',
        'ğŸ­',
        'ğŸ¤',
        'ğŸ¥',
        'ğŸ¡',
        'ğŸ¢',
        'ğŸ ',
        'ğŸŸï¸',
        'ğŸŸï¸',
        'ğŸ²',
        'ğŸ¿',
        'ğŸ‡',
        'ğŸ€',
        'âš½',
        'ğŸˆ',
        'ğŸ¾',
        'ğŸ“',
        'ğŸ’',
        'â›³',
        'ğŸ¸',
      ],
      'Baby': [
        'ğŸ‘¶',
        'ğŸ¼',
        'ğŸ§¸',
        'ğŸš¼',
        'ğŸ‘¼',
        'ğŸ›',
        'ğŸ‘¶',
        'ğŸ¼',
        'ğŸ§¸',
        'ğŸš¼',
        'ğŸ‘¼',
        'ğŸ›',
        'ğŸ‘¶',
        'ğŸ¼',
        'ğŸ§¸',
        'ğŸš¼',
        'ğŸ‘¼',
        'ğŸ›',
        'ğŸ‘¶',
        'ğŸ¼',
      ],
      'Fitness': [
        'ğŸ‹ï¸',
        'ğŸ¤¸',
        'ğŸƒ',
        'ğŸš´',
        'ğŸŠ',
        'ğŸ§˜',
        'ğŸ¥Š',
        'ğŸ‹ï¸â€â™€ï¸',
        'ğŸ‹ï¸â€â™‚ï¸',
        'ğŸ¤¸â€â™€ï¸',
        'ğŸ¤¸â€â™‚ï¸',
        'ğŸƒâ€â™€ï¸',
        'ğŸƒâ€â™‚ï¸',
        'ğŸš´â€â™€ï¸',
        'ğŸš´â€â™‚ï¸',
        'ğŸŠâ€â™€ï¸',
        'ğŸŠâ€â™‚ï¸',
        'ğŸ§˜â€â™€ï¸',
        'ğŸ§˜â€â™‚ï¸',
        'ğŸ¥Š',
      ],
      'Daily Used': [
        'ğŸ“±',
        'ğŸ“§',
        'ğŸ“²',
        'ğŸ’¬',
        'ğŸ“',
        'ğŸ“…',
        'â°',
        'ğŸ•’',
        'ğŸ“',
        'ğŸ“',
        'âœ‰ï¸',
        'ğŸ“©',
        'ğŸ“¤',
        'ğŸ“¥',
        'ğŸ–±ï¸',
        'ğŸ’»',
        'ğŸ–¨ï¸',
        'ğŸ“‹',
        'ğŸ“Š',
        'ğŸ“ˆ',
      ],
    };

    return Container(
      height: 180,
      decoration: BoxDecoration(
        boxShadow: [
          BoxShadow(
            color: Get.theme.shadowColor.withOpacity(0.1),
            blurRadius: 4,
            offset: Offset(0, -3),
          ),
        ],
        // borderRadius: BorderRadius.vertical(top: Radius.circular(25)),
        color: Get.theme.colorScheme.surfaceContainerHighest,
      ),
      child: DefaultTabController(
        length: categories.length,
        child: Column(
          children: [
            Container(
              height: 33,
              padding: EdgeInsets.symmetric(horizontal: 0),
              decoration: BoxDecoration(
                color: Get.theme.colorScheme.surfaceContainer,
                // borderRadius: BorderRadius.circular(25),
              ),
              child: TabBar(
                isScrollable: true,
                dividerHeight: 0,
                tabAlignment: TabAlignment.start,
                indicatorSize: TabBarIndicatorSize.tab,
                indicatorColor: Colors.transparent,
                indicator: BoxDecoration(
                  borderRadius: BorderRadius.circular(25),
                  // color: AppColors.branding.withOpacity(0.1),
                ),
                labelColor: AppColors.branding,
                indicatorWeight: 3,
                labelStyle: TextStyle(
                  fontWeight: FontWeight.w600,
                  fontSize: 14,
                ),
                unselectedLabelStyle: TextStyle(
                  fontWeight: FontWeight.w500,
                  fontSize: 14,
                ),
                tabs: categories.keys.map((category) {
                  return Tab(text: category);
                }).toList(),
              ),
            ),
            Expanded(
              child: TabBarView(
                children: categories.values.map((stickers) {
                  return SingleChildScrollView(
                    padding: EdgeInsets.all(16),
                    child: Wrap(
                      spacing: 8, // Horizontal spacing between stickers
                      runSpacing: 8, // Vertical spacing between rows
                      alignment:
                          WrapAlignment.start, // Align stickers to the start
                      children: stickers.asMap().entries.map((entry) {
                        final index = entry.key;
                        final sticker = entry.value;
                        return GestureDetector(
                          onTap: () {
                            controller.addSticker(sticker);
                            // Haptic feedback
                            // HapticFeedback.lightImpact();
                          },
                          child: AnimatedContainer(
                            duration: Duration(milliseconds: 150),
                            width: 48, // Fixed width for each sticker
                            height: 48, // Fixed height for each sticker
                            decoration: BoxDecoration(
                              color: Colors.grey.shade50,
                              borderRadius: BorderRadius.circular(12),
                              border: Border.all(color: Colors.grey.shade200),
                            ),
                            child: Center(
                              child: Text(
                                sticker,
                                style: TextStyle(fontSize: 28),
                              ),
                            ),
                          ),
                        );
                      }).toList(),
                    ),
                  );
                }).toList(),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
